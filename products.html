<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Keynected | Products</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- ðŸŒ¸ Logo Header -->
  <header class="logo-header">
    <img src="images/Keynected.png" alt="Keynected logo" />
  </header>

  <!-- ðŸŒ¸ Main Navigation Header with Cart -->
  <header class="main-header">
      <div class="navbar">
  <div class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('show')">â˜°</div>
  <nav class="nav-links">
    <a href="index.html">HOME</a>
    <a href="products.html"class="active">PRODUCTS</a>
    <a href="review.html">REVIEWS</a>
    <a href="about.html" >ABOUT</a>
    <a href="contact.html">CONTACT</a>
  </nav>

  <div class="nav-right">
    <button id="topCartBtn" class="icon-btn" aria-label="Open cart">
      ðŸ›’ <span class="cart-badge" id="topCartCount">0</span>
    </button>
    <a href="login.html" class="login-btn">Login / Signup</a>
  </div>
</div>

    </div>
  </header>

  <!-- ðŸŒ¸ Product Section -->
  <section class="products fade-in">
    <h1>Our Products</h1>
    <p>Explore our collection of <strong>Keynected keychains</strong> designed to keep hearts close â€” wherever you are.</p>

    <div class="product-grid" id="productGrid">
      <div class="product-card" data-id="p1" data-price="499">
        <img src="images/img1.jpg" alt="Classic Keynect" />
        <h3>Classic Keynect</h3>
        <p class="price">â‚±499</p>
        <div class="options">
          <label>Color
            <select class="opt-color">
              <option>Rose Gold</option>
              <option>Silver</option>
              <option>Black</option>
            </select>
          </label>
          <label>Qty
            <input class="opt-qty" type="number" min="1" value="1" />
          </label>
        </div>
        <div class="product-actions">
          <button class="quick-view">Quick View</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>

      <div class="product-card" data-id="p2" data-price="549">
        <img src="images/img2.jpg" alt="Glow Edition" />
        <h3>Glow Edition</h3>
        <p class="price">â‚±549</p>
        <div class="options">
          <label>Color
            <select class="opt-color">
              <option>Pink Glow</option>
              <option>Blue Glow</option>
              <option>Purple Glow</option>
            </select>
          </label>
          <label>Qty
            <input class="opt-qty" type="number" min="1" value="1" />
          </label>
        </div>
        <div class="product-actions">
          <button class="quick-view">Quick View</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>

      <div class="product-card" data-id="p3" data-price="599">
        <img src="images/img3.jpg" alt="Minimal Duo" />
        <h3>Minimal Duo</h3>
        <p class="price">â‚±599</p>
        <div class="options">
          <label>Color
            <select class="opt-color">
              <option>Matte White</option>
              <option>Matte Black</option>
            </select>
          </label>
          <label>Qty
            <input class="opt-qty" type="number" min="1" value="1" />
          </label>
        </div>
        <div class="product-actions">
          <button class="quick-view">Quick View</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>

      <div class="product-card" data-id="p4" data-price="529">
        <img src="images/img4.jpg" alt="Pastel Pair" />
        <h3>Pastel Pair</h3>
        <p class="price">â‚±529</p>
        <div class="options">
          <label>Color
            <select class="opt-color">
              <option>Lavender</option>
              <option>Mint</option>
              <option>Peach</option>
            </select>
          </label>
          <label>Qty
            <input class="opt-qty" type="number" min="1" value="1" />
          </label>
        </div>
        <div class="product-actions">
          <button class="quick-view">Quick View</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ðŸŒ¸ Footer -->
  <footer>
    <p>Â© 2025 Keynected. Made with Love.</p>
  </footer>

  <!-- ðŸŒ¸ Cart Modal (shared) -->
  <div id="cartModal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close cart">&times;</button>
      <h3>Your Cart</h3>
      <div id="cartItemsWrap"></div>
      <div class="cart-footer">
        <div class="cart-total">Total: <span id="cartTotal">â‚±0</span></div>
        <div class="cart-actions">
          <button id="clearCart" class="danger">Clear Cart</button>
          <button id="checkout" class="primary">Checkout</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸŒ¸ Quick View Modal -->
  <div id="quickViewModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close">&times;</button>
      <div id="qvInner"></div>
    </div>
  </div>

  <!-- ðŸŒ¸ Shared Cart Script -->
  <script src="cart.js" defer></script>

  <!-- ðŸŒ¸ Page JS -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // nav toggle
      const navToggle = document.getElementById('navToggle');
      const navLinks = document.getElementById('navLinks');
      navToggle.addEventListener('click', () => {
        navLinks.classList.toggle('show');
      });

      // wire Add to Cart + Quick View
      const cards = document.querySelectorAll('.product-card');
      cards.forEach(card => {
        const addBtn = card.querySelector('.add-to-cart');
        const qvBtn = card.querySelector('.quick-view');
        const id = card.dataset.id;
        const name = card.querySelector('h3').textContent;
        const price = Number(card.dataset.price);
        const img = card.querySelector('img').src;

        addBtn.addEventListener('click', () => {
          const color = card.querySelector('.opt-color').value;
          const qty = Number(card.querySelector('.opt-qty').value);
          window.cartAPI.addItem({ id, name, price, color, qty, img });
        });

        qvBtn.addEventListener('click', () => {
          const colors = Array.from(card.querySelectorAll('.opt-color option')).map(o => o.text);
          const qvInner = document.getElementById('qvInner');
          qvInner.innerHTML = `
            <div class="qv-grid">
              <img src="${img}" alt="${name}">
              <div class="qv-info">
                <h3>${name}</h3>
                <div class="price">â‚±${price}</div>
                <label>Color
                  <select id="qv-color">${colors.map(c => `<option>${c}</option>`).join('')}</select>
                </label>
                <label>Qty
                  <input id="qv-qty" type="number" min="1" value="1" />
                </label>
                <div style="margin-top:12px;">
                  <button id="qv-add" class="primary">Add to Cart</button>
                  <button id="qv-close" class="secondary">Close</button>
                </div>
              </div>
            </div>
          `;
          const modal = document.getElementById('quickViewModal');
          modal.style.display = 'flex';
          document.body.style.overflow = 'hidden';

          document.getElementById('qv-add').addEventListener('click', () => {
            const color = document.getElementById('qv-color').value;
            const qty = Number(document.getElementById('qv-qty').value);
            window.cartAPI.addItem({ id, name, price, color, qty, img });
            modal.style.display = 'none';
            document.body.style.overflow = '';
          });

          document.getElementById('qv-close').addEventListener('click', () => {
            modal.style.display = 'none';
            document.body.style.overflow = '';
          });
        });
      });

      // clear cart + checkout
      document.getElementById('clearCart').addEventListener('click', () => {
        if (confirm('Clear your cart?')) window.cartAPI.clearCart();
      });

      document.getElementById('checkout').addEventListener('click', () => {
        window.location.href = 'checkout.html';
      });
    });
  </script>
</body>
</html>
